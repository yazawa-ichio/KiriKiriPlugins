吉里吉里でネットワーク経由でパッチを当てられるプラグインです。

【準備】
以下のDLLプラグインが必要になのでダウンロードしてください。

・httprequest.dll
・ktl_storage_stream.dll

上記、２つのプラグインと以下のファイルもプロジェクトに入れて下さい。
・PatchDownloader.ks
・DownloadWindow.tjs
・PDConfig.tjs

【使い方】

・プラグインの設定
「PDConfig.tjs」を編集します。
「version 」はパッチ情報ファイルと比較して、パッチをダウンロードすべきかどうかを判断します。
「infoPath」はパッチ情報のURLを記述します。パッチを出す予定なくても、このプラグインを導入するなら必ず記述して、そこにパッチ情報をアップロードしておいてください。
「encoding」はパッチ情報の文字コードを記述して下さい。一部、対応していないコードが有ります。
「checkPatch」はオートでパッチ情報の確認をするかを決定できます。オートではない場合は「ヘルプ」に「パッチのダウンロード」というメニューが追加されます。

このファイルはパッチを制作するたびにパッチ用アーカイブに入れて下さい。入れなければ正常に動作しません。

・プラグインの登録
「PatchDownloader.ks」をcallタグで呼び出すことでその他必要なファイルは全て呼び出されます。

・パッチ情報の準備
まずはパッチ情報を記録したファイルを用意して下さい。
パッチ情報の書き方はサンプルの「InfoSample.txt」を参考にして下さい。
基本的に2行目にパッチのバージョン、4行目にパッチのURLを記述して下さい。
一応、「PDConfig.tjs」で設定したバッチ情報のURLにファイルがなくても動作します。
パッチの更新があるたび、パッチのアップロードURLを更新してアップロードしてください。

・注意
追加されたパッチは吉里吉里の機能で削除する事が出来ません。そのため、バージョンを上げるたびにパッチが増えていくことになるので注意して下さい。

【ライセンス】
このソースコードのライセンスは「CC0」の元に配布しています。
